<?php

use Illuminate\Support\Facades\Schema;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Database\Migrations\Migration;
use Illuminate\Support\Facades\DB;

class CreateUsersFriends extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('users_friends', function (Blueprint $table) {
            $table->integer('user_id')->unsigned();
            $table->integer('friend_id')->unsigned();

            $table->foreign('user_id')->references('id')->on('users')->onDelete('CASCADE');
            $table->foreign('friend_id')->references('id')->on('users')->onDelete('CASCADE');
        });

        DB::statement("INSERT INTO `users_friends` VALUES (11,1),(23,1),(34,1),(25,1),(7,1),(39,1),(33,2),(37,2),(13,2),(4,2),(29,2),(10,2),(40,2),(17,2),(35,3),(2,3),(16,3),(34,3),(37,3),(10,4),(5,4),(28,4),(32,4),(34,4),(22,4),(40,4),(4,4),(1,5),(28,5),(29,5),(18,5),(26,5),(35,5),(5,5),(6,5),(7,6),(11,6),(21,6),(39,6),(5,6),(12,6),(24,6),(36,7),(37,7),(25,7),(3,7),(14,8),(36,8),(34,8),(22,8),(10,8),(16,8),(15,9),(19,9),(2,9),(13,9),(3,10),(12,10),(8,10),(39,10),(31,10),(32,11),(30,11),(28,11),(38,11),(7,11),(2,11),(14,11),(3,11),(29,12),(22,12),(26,12),(19,12),(38,13),(12,13),(39,13),(5,13),(31,13),(35,13),(25,13),(7,14),(36,14),(37,14),(16,14),(33,15),(36,15),(38,15),(8,16),(33,16),(35,16),(24,16),(19,16),(37,16),(13,17),(35,17),(20,17),(5,17),(31,17),(18,17),(37,18),(32,18),(39,18),(4,18),(15,18),(29,18),(12,19),(20,19),(13,19),(26,19),(33,19),(40,19),(18,19),(31,19),(19,20),(40,20),(2,20),(29,20),(20,20),(8,20),(33,20),(23,20),(21,21),(25,21),(23,21),(16,22),(1,22),(37,22),(35,23),(24,23),(5,23),(33,23),(40,23),(8,23),(7,24),(10,24),(32,24),(36,24),(27,24),(31,24),(7,25),(34,25),(1,25),(40,26),(5,26),(23,26),(1,26),(21,26),(17,27),(31,27),(7,27),(5,27),(39,27),(20,27),(23,27),(30,27),(33,28),(8,28),(12,28),(28,28),(31,28),(20,28),(9,29),(36,29),(14,29),(1,29),(18,30),(10,30),(15,30),(19,30),(14,30),(24,30),(11,31),(2,31),(27,31),(1,31),(38,31),(31,31),(11,32),(27,32),(2,32),(1,32),(18,32),(36,32),(33,32),(26,33),(3,33),(28,33),(14,34),(20,34),(30,34),(34,34),(38,34),(33,34),(17,35),(28,35),(26,35),(2,35),(36,35),(26,36),(23,36),(6,36),(37,36),(9,36),(25,36),(33,36),(39,37),(33,37),(21,37),(20,37),(38,37),(10,37),(18,38),(5,38),(10,38),(12,38),(31,39),(40,39),(1,39),(22,39),(34,39),(16,39),(29,39),(19,40),(40,40),(14,40),(22,40),(27,40),(29,40),(17,40),(7,40)");
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('users_friends');
    }
}
